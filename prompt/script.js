// Dicion√°rio de respostas com arrays e sin√¥nimos
const respostas = {
  "ero√ß√£o do solo": {
    palavras: [
        //palavras chaves
        "eros√£o do solo",
        "erosao do solo",
        "desgaste do solo",
        "perda de solo",
        "solo degradado",
        "nutrientes do solo",
        //perguntas que podem ser feitas
        "O que √© eros√£o do solo?",
        "Como acontece a eros√£o do solo?",
        "Quais s√£o os efeitos da eros√£o do solo?",
        "Por que o solo perde nutrientes?",
        "Como prevenir a eros√£o do solo?",
        "Quais t√©cnicas evitam a eros√£o do solo?",
        "Eros√£o do solo √© perigosa?",
        "Como o desmatamento causa eros√£o do solo?",
        ],
    resposta: [
       "A eros√£o do solo √© o processo de desgaste e remo√ß√£o da camada superficial da terra, causada principalmente pela a√ß√£o da √°gua, vento ou atividades humanas, como desmatamento e cultivo inadequado.",
       
       "Quando o solo √© erodido, perde nutrientes importantes, fica menos f√©rtil e pode causar assoreamento de rios, deslizamentos e desertifica√ß√£o.",

       "Pr√°ticas para prevenir a eros√£o incluem:",

       "- Plantio direto e cobertura do solo com vegeta√ß√£o.",

       "- Reflorestamento e manuten√ß√£o de matas ciliares.",

       "- Rota√ß√£o de culturas e terraceamento em √°reas inclinadas.",

       "- Uso de barreiras naturais ou artificiais para reduzir o impacto da √°gua ou do vento."

    ]
    
  },
  "solucao_erosao": {
  palavras: [
    //palavras chaves
    "solucao erosao",
    "solu√ß√£o erosao",
    "solucao erosao do solo",
    "como prevenir erosao",
    "como evitar erosao",
    "prevenir perda de solo",
    "como recuperar solo",
    "proteger solo",
    //perguntas que podem ser feitas 
    "Como evitar a eros√£o do solo?",    
    "Quais s√£o as solu√ß√µes para a eros√£o do solo?",
    "Como recuperar um solo erodido?",
    "Como proteger o solo da eros√£o?",
    "Quais t√©cnicas previnem eros√£o do solo?",
    "Como reduzir a perda de solo na fazenda?",
    "O que fazer para solo degradado?",
    "Como melhorar a fertilidade e evitar eros√£o?",
  ],
  resposta: [
    "1. Cobertura do solo\n- Plantar culturas de cobertura ou manter restos de plantas no solo para proteger a terra da chuva e do vento.",
    "2. Plantio direto\n- Evita revolver o solo continuamente, mantendo a estrutura natural e prevenindo perda de nutrientes.",
    "3. Rota√ß√£o de culturas\n- Alternar tipos de plantas para melhorar a fertilidade e reduzir √°reas expostas √† eros√£o.",
    "4. Reflorestamento e manuten√ß√£o de matas ciliares\n- √Årvores e vegeta√ß√£o protegem o solo, seguram a √°gua e evitam deslizamentos.",
    "5. Terraceamento em √°reas inclinadas\n- Criar degraus ou pequenas conten√ß√µes para reduzir a velocidade da √°gua e impedir que leve o solo embora.",
    "6. Barreiras naturais ou artificiais\n- Cercas vivas, sebes ou muros de conten√ß√£o ajudam a reduzir o impacto da √°gua e do vento.",
    "7. Controle de atividades humanas\n- Evitar desmatamento, pastagem excessiva e cultivo em declives sem t√©cnicas de prote√ß√£o."
  ]
},

  " solo 1": {
    palavras: ["solo soluc√ß√£oes,"],
    resposta:[
        " solu√ß√£o: üå≥ T√©cnicas como rota√ß√£o de culturas e reflorestamento ajudam a recuperar nutrientes.",
    ]
  },

  " soluc√£oes do solo_ agrot√≥xicos": {
    palavras: [
        //palavras chaves
          "sa√∫de do solo",
          "sa√∫de dos alimentos",
          "solo contaminado",
          "produtos qu√≠micos na fazenda",
          "problemas do agrot√≥xico",
          "reduzir agrot√≥xicos",
          "uso de agrot√≥xicos",
          //perguntas que podem ser feitas
          "Como reduzir o uso de agrot√≥xicos?",
          "Quais os problemas do agrot√≥xico?",
          "Como proteger o solo e os alimentos?",
          "O que fazer para ter menos agrot√≥xicos na fazenda?",
          "Existe alternativa aos agrot√≥xicos?" 
        ],
    resposta:[
        "‚ùå Reduzir o uso de agrot√≥xicos protege a sa√∫de do solo e dos alimentos.",
        "agrotoxicos",

        "1. Uso racional e controlado\n- Aplicar agrot√≥xicos somente quando necess√°rio, seguindo a dosagem correta.\n- Evitar pulveriza√ß√µes excessivas que contaminam solo, √°gua e alimentos.",

        "2. Agricultura org√¢nica e integrativa\n- Alternar culturas e usar adubos org√¢nicos para fortalecer o solo naturalmente.\n- Investir em controle biol√≥gico de pragas (insetos ben√©ficos, fungos ou bact√©rias que combatem pragas).",

        "3. Barreiras e prote√ß√£o ambiental\n- Criar matas ciliares e barreiras vegetais para evitar que o agrot√≥xico chegue a rios e √°reas vizinhas.\n- Usar equipamentos de prote√ß√£o individual (EPIs) para os trabalhadores.",

        "4. Tecnologia e monitoramento\n- Sensores e drones podem identificar √°reas com infesta√ß√£o e aplicar produtos de forma localizada, reduzindo o uso geral.\n- Monitorar a qualidade do solo e da √°gua periodicamente.",

        "5. Educa√ß√£o e capacita√ß√£o\n- Treinar os trabalhadores sobre o uso correto de agrot√≥xicos.\n- Incentivar pr√°ticas sustent√°veis e alternativas menos agressivas ao meio ambiente."


    ]
  },


  "animais": {
    palavras: ["animais", "explora√ß√£o de animais", "fauna"],
    resposta: [
      "üêæ A explora√ß√£o de animais envolve maus-tratos, ca√ßa ilegal e uso em testes.",

      "‚úÖ Apoiar produtos livres de crueldade e projetos de conserva√ß√£o ajuda a reduzir a explora√ß√£o.",

      "‚ö†Ô∏è Respeitar os animais protege o equil√≠brio dos ecossistemas."
    ]
  },
  "comida": {
    palavras: ["comida", "alimentos", "alimento"],
    resposta: [
      "üçΩÔ∏è Alguns alimentos industrializados podem causar problemas √† sa√∫de quando mal produzidos.",

      "‚ö†Ô∏è Alimentos ultraprocessados podem ter excesso de conservantes e corantes.",

      "‚úÖ Prefira alimentos frescos, armazenados corretamente e de proced√™ncia confi√°vel."
    ]
  }
};

function sendMessage() {
  const input = document.getElementById("userInput");
  const chat = document.getElementById("chat");
  const userText = input.value.toLowerCase().trim();

  if (userText !== "") {
    // Mensagem do usu√°rio
    const userMsg = document.createElement("div");
    userMsg.className = "message user";
    userMsg.textContent = input.value;
    chat.appendChild(userMsg);

    // Procura palavra-chave com sin√¥nimos
    let respostaEncontrada = null;
    for (let key in respostas) {
      const tema = respostas[key];
      for (let palavra of tema.palavras) {
        if (userText.includes(palavra)) {
          respostaEncontrada = tema.resposta;
          break;
        }
      }
      if (respostaEncontrada) break;
    }

    // Linha separadora
    const linha = document.createElement("hr");
    chat.appendChild(linha);

    // Mensagem do bot
    const botMsg = document.createElement("div");
    botMsg.className = "message bot";

    if (respostaEncontrada) {
      if (Array.isArray(respostaEncontrada)) {
        botMsg.innerHTML = respostaEncontrada.join("<br>");
      } else {
        botMsg.textContent = respostaEncontrada;
      }
    } else {
      botMsg.textContent = "‚ùì N√£o tenho uma resposta para isso. Pergunte sobre: degrada√ß√£o do solo, explora√ß√£o de animais ou problemas com alimentos.";
    }

    chat.appendChild(botMsg);

    // Scroll autom√°tico
    chat.scrollTop = chat.scrollHeight;

    input.value = "";
  }
}

// Enviar mensagem com ENTER
document.getElementById("userInput").addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    sendMessage();
  }
});
